                            policy:
                              type: string
                              default: LowerPriority
                              enum:
                                - Never
                                - LowerPriority
                            maxPriorityThreshold:
                              type: integer

                        reclaimWithinCohort:
                          type: string
                          default: Never
                          enum:
                            - Never
                            - LowerPriority
                            - Any

                        withinClusterQueue:
                          type: string
                          default: Never
                          enum:
                            - Never
                            - LowerPriority
                            - LowerOrNewerEqualPriority

                    stopPolicy:
                      type: string
                      default: None
                      enum:
                        - None
                        - Stop
                        - StopAndHold

                flavors:
                  type: array
                  items:
                    type: object
                    properties:
                      natsFlavor:
                              type: object
                              required: ["name", "natsConnector", "natsSubject"]
                              properties:
                                name:
                                  type: string
                                nominalQuota:
                                  type: object
                                  properties:
                                    cpu:
                                      x-kubernetes-int-or-string: true
                                      default: 1M
                                    memory:
                                      x-kubernetes-int-or-string: true
                                      default: 1Ei
                                    pods:
                                      default: 100000
                                      type: integer
                                    nvidia.com/gpu:
                                      default: 10000
                                      type: integer
                                canLendTo:
                                  type: array
                                  items:
                                    type: object
                                    required: ['queue']
                                    properties:
                                      queue:
                                        type: string
                                      lendingLimit:
                                        type: object
                                        properties:
                                          cpu:
                                            x-kubernetes-int-or-string: true
                                          memory:
                                            x-kubernetes-int-or-string: true
                                          pods:
                                            type: integer
                                          nvidia.com/gpu:
                                            type: integer

                                natsConnector:
                                  type: string
                                natsSubject:
                                  type: string
                                virtualNode:
                                  type: string
                                pools:
                                  type: array
                                  items:
                                    type: string
                                poolRegExp:
                                  type: string
                                poolTimeout:
                                  type: integer
                                  default: 60
                              oneOf:
                                - required:
                                  - pools
                                - required:
                                  - poolRegExp


                      localFlavor:
                              type: object
                              required: ["name"]
                              properties:
                                name:
                                  type: string
                                nominalQuota:
                                  type: object
                                  properties:
                                    cpu:
                                      x-kubernetes-int-or-string: true
                                      default: 1M
                                    memory:
                                      x-kubernetes-int-or-string: true
                                      default: 1Ei
                                    pods:
                                      default: 100000
                                      type: integer
                                    nvidia.com/gpu:
                                      default: 10000
                                      type: integer

                                canLendTo:
                                  type: array
                                  items:
                                    type: object
                                    required: ['queue']
                                    properties:
                                      queue:
                                        type: string
                                      lendingLimit:
                                        type: object
                                        properties:
                                          cpu:
                                            x-kubernetes-int-or-string: true
                                          memory:
                                            x-kubernetes-int-or-string: true
                                          pods:
                                            type: integer
                                          nvidia.com/gpu:
                                            type: integer
  scope: Cluster
  names:
    plural: masterqueues
    singular: masterqueue
    kind: MasterQueue
    shortNames:
    - mq